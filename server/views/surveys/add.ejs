<% include ../partials/header.ejs %>

    <!-- MAIN CONTENT -->
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <h1><%= title %></h1>
            <form class="form" method="post" id="SurveyForm">
                <div class="form-group">
                  <label for author > Author </label> 
                    <input type="text" class="form-control" name="author" id="author" required> 
                  <label> Title</label>
                    <input type="text" class="form-control" name="title" id="title" required> 
            <div class=" col-md-12">                         
             <table id="SurveyTable" class="table table-bordered table-striped table-hover">
                </table>
                <button type="button" id="tf" class="btn btn-secondary" onclick= "addTF()"><i class="fas fa-edit"></i>Add T/F Question</button>
                <button type="button" id="mc" class="btn btn-secondary" onclick= "addMC()"><i class="fas fa-edit"></i>Add MC Question</button>
              <br>
              <br>
              <button type="submit" class="btn btn-primary">Submit</button>
              <a href="/surveys" class="btn btn-warning"><i class="fa fa-undo"></i> Cancel</a>
              <br>
                <br>
                <br>
                <br>
            </div>
          </form>
        </div>
      </div>
    </div>

    <script>
      // let question = [];
    function addMC(){
    let table = document.getElementById("SurveyTable");
    let currentIndex = table.rows.length;
    let currentRow = table.insertRow(-1);

    let question = document.createElement("input");
    question.setAttribute("name", "questionMC");
    let option = document.createElement("input");
    option.setAttribute("name", "questionMC")
    // option.setAttribute("type", "radio")
    let option2 = document.createElement("input");
    option2.setAttribute("name", "questionMC")
    // option2.setAttribute("type", "radio")
    let option3 = document.createElement("input");
    option3.setAttribute("name", "questionMC");
    // option3.setAttribute("type", "radio");
    let hiddenArray = document.createElement("input");
    hiddenArray.setAttribute("hidden", "hidden");
    hiddenArray.setAttribute("name", "questionMC");

    let currentCell = currentRow.insertCell(-1);
    currentCell.appendChild(question);
    currentCell = currentRow.insertCell(-1);
    currentCell.appendChild(option);
    currentCell = currentRow.insertCell(-1);
    currentCell.appendChild(option2);
    currentCell = currentRow.insertCell(-1);
    currentCell.appendChild(option3);
    currentCell = currentRow.insertCell(-1);
    currentCell.appendChild(hiddenArray);

}
function addTF(){
    let table = document.getElementById("SurveyTable");
    let currentIndex = table.rows.length;
    let currentRow = table.insertRow(-1);

    let question = document.createElement("input");
    question.setAttribute("name", "questionTF");
    let option = document.createElement("input");
    option.setAttribute("name", "questionTF")
    let option2 = document.createElement("input");
    option2.setAttribute("name", "questionTF")
    let option3 = document.createElement("label");
    let hiddenArray = document.createElement("input");
    hiddenArray.setAttribute("name", "questionTF");
    hiddenArray.setAttribute("hidden", "hidden");

    let currentCell = currentRow.insertCell(-1);
    currentCell.appendChild(question);
    currentCell = currentRow.insertCell(-1);
    currentCell.appendChild(option);
    currentCell = currentRow.insertCell(-1);
    currentCell.appendChild(option2);
    currentCell = currentRow.insertCell(-1);
    currentCell.appendChild(option3);
    currentCell = currentRow.insertCell(-1);
    currentCell.appendChild(hiddenArray);
    
}

    </script>
<% include ../partials/footer.ejs %>